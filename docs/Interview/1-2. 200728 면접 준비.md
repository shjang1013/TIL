# 200728 면접 준비
*written by sohyeon*🍀

<br>

## JNDI의 개념

<br>

## 커넥션 풀의 개념
### 커넥션 풀(DBCP)이란?
웹 컨테이너(WAS)가 실행되면서 DB와 미리 connection(연결)을 해놓은 객체들을 pool에 저장해두었다가, 클라이언트 요청이 오면 connection을 빌려주고, 처리가 끝나면 다시 connection을 반납받아 pool에 저장하는 방식을 말한다.  

### 커넥션 풀의 특징
* 웹 컨테이너(WAS)가 실행되면서 connection 객체를 미리 pool에 생성해둔다.
* HTTP 요청에 따라 pool에서 connection객체를 가져다 쓰고 반환한다.
    - 물리적인 데이터베이스 connection(연결) 부하를 줄이고 연결 관리 한다.
* pool에 미리 connection이 생성되어 있기 때문에 connection을 생성하는 데 드는 요정 마다 연결 시간이 소비되지 않는다.
* 커넥션을 계속해서 재사용하기 때문에 생성되는 커넥션 수를 제한적으로 설정한다.

<br>

## MVC(Model1, Model2)
### 모델(Model), 뷰(View), 컨트롤러(Controller)
* Model
    - 데이터를 가진 객체, 파라미터로 자주 쓰인다. 
    - DB의 테이블과 대응하는 경우가 많다.
* View
    - UI를 담당한다. 
    - 클라이언트 측 기술인 Html, Css, Javascript등으로 만들어진 컨테이너이다.
* Controller
    - UI를 통한 사용자의 입력 명령에 응답하고, 및 데이터 흐름 제어를 담당한다.

### Model1 패턴
비즈니스 로직 영역(Controller)에 프레젠테이션 영역(View)을 같이 구현하는 방식이다. 

### Model2 패턴
비즈니스 로직 영역과 프레젠테이션 영역이 분리되어 있는 구현 방식이다.

<br>

## Spring 정의 및 특징
### Spring Framework란?
`Spring Framework`는 개발자가 비즈니스 로직에 집중할 수 있도록, Java 기반 엔터프라이즈 애플리케이션을 위한 종합적인 기능들을 지원한다.

### Spring Framework의 특징
* `POJO 기반의 구성`
    - POJO(Plain Old Java Object) : 일반적인 Java 코드를 이용해서 객체를 구성하는 방식
    - 관계를 구성할 때 별도의 API 등을 사용하지 않는다.
    - 코드를 개발할 때 개발자가 특정한 라이브러리나 컨테이너의 기술에 종속적이지 않다.
    - 가장 일반적인 형태로 코드를 작성하고 실행할 수 있기 때문에 생산성에서도 유리하고, 코드에 대한 테스트 작업을 유연하게 할 수 있다.  
    
* `의존성 주입(DI)`을 통한 객체 간의 관계 구성
    - 스프링에서는 `ApplicationContext`라는 존재가 필요한 객체들을 생성하고, 필요한 객체들을 주입하는 역할을 해 주는 구조이다.
    - 스프링에서는 ApplicationContext가 관리하는 객체들을 `빈(Bean)`이라고 부르고, 빈과 빈 사이의 의존관계를 처리하는 방식으로 `XML 설정`, `어노테이션 설정`, `Java 설정` 등이 있다. 
    
* `AOP(Aspect-Oriented-Programming)` 지원
    - 스프링은 프레임워크를 이용한 개발에서 `반복적인 코드를 줄이고`, `핵심 비즈니스 로직에만 집중할 수 있는 방법을 제공`한다.     
    - `AOP(Aspect-Oriented-Programming)`는 횡단 관심사를 모듈로 분리하는 프로그래밍의 패러다임이다. 
    - 스프링은 AOP를 `AspectJ의 문법`을 통해서 작성할 수 있다.  
        * 핵심 비즈니스 로직에만 집중해서 코드를 개발할 수 있다.  
        * 각 프로젝트마다 다른 관심사를 적용할 때 코드의 수정을 최소화시킬 수 있다.
  
* 편리한 `MVC 구조`

<br>

## MyBatis vs Hibernate

### MyBatis
* 개발자가 지정한 SQL, 저장 프로시저 그리고 몇 가지 고급 매핑을 지원하는 SQL Mapper이다.
* JDBC로 처리하는 상당 부분의 코드와 파라미터 설정 및 결과 매핑을 대신해준다.
* 기존에 JDBC를 사용할 때는 DB와 관련된 여러 복잡한 설정(Connection)들을 다루어야 했지만 SQL Mapper는 자바 객체를 실제 SQL문에 연결함으로써, 빠른 개발과 편리한 테스트 환경을 제공한다.

### MyBatis의 장점과 단점
* 장점
    * SQL에 대한 모든 컨트롤을 하고자 할때 매우 적합하다.
    * SQL쿼리들이 매우 잘 최적화되어 있을 때에 유용하다.
* 단점
    * 애플리케이션과 데이터베이스 간의 설계에 대한 모든 조작을 하고자 할 때는 적합하지 않다.
    * 애플리케이션과 데이터베이스 간에 서로 잘 구조화되도록 많은 설정이 바뀌어야 하기 때문이다.

### Hibernate
* Hibernate는 JPA의 구현체 중 하나이다.
* Hibernate가 SQL을 직접 사용하지 않는다고 해서 JDBC API를 사용하지 않는다는 것은 아니다.
    * Hibernate가 지원하는 메서드 내부에서는 JDBC API가 동작하고 있으며, 단지 개발자가 직접 SQL을 직접 작성하지 않을 뿐이다.
    
### Hibernate의 장점과 단점
* 장점
    * 객체지향적으로 데이터를 관리할 수 있기 때문에 비즈니스 로직에 집중 할 수 있으며, 객체지향 개발이 가능하다.
    * 테이블 생성, 변경, 관리가 쉽다. (JPA를 잘 이해하고 있는 경우)
    * 로직을 쿼리에 집중하기 보다는 객체자체에 집중 할 수 있다.
    * 빠른 개발이 가능하다.
* 단점
    * 어렵다. (많은 내용이 감싸져 있기 때문에 알아야 할 것이 많다.)
    * 잘 이해하고 사용하지 않으면 데이터 손실이 있을 수 있다. (persistence context)
    * 성능상 문제가 있을 수 있다. (이 문제 또한 잘 이해해야 해결이 가능하다.)

<br>

## 동기 방식 vs 비동기 방식
### 동기 방식(Synchronous)
요청을 보낸 후 응답(=결과)를 받아야지만 다음 동작이 이루어지는 방식, 어떠한 일을 처리할 동안 다른 프로그램은 정지한다. 

### 비동기 방식(Asynchronous)
요청을 보낸 후 응답(=결과)와는 상관없이 다음 동작이 이루어지는 방식, 결과가 주어지는데 시간이 걸리더라도 그 시간동안 다른 작업을 할 수 있으므로 자원을 효율적으로 사용할 수 있다.

<br>

## Get 방식 vs Post 방식
### Get 방식
Get은  `서버로부터 정보를 조회하기 위해 설계된 메소드`다.

### Get 방식의 특징
* Get은 `요청을 전송할 때 필요한 데이터를 Body에 담지 않고`, `쿼리스트링`을 통해 전송한다.
    - 쿼리스트링은 URL의 끝에 `?`와 함께 이름과 값으로 쌍을 이루는 요청 파라미터를 말하는데, 요청 파라미터가 여러 개이면 `&`로 연결한다. 

* `www.example-url.com/resources?name1=val1&name2=val2`
    - 쿼리스트링을 포함한 URL로, 요청 파라미터명은 name1, name2이고, 각각의 파라미터는 val1, val2라는 값으로 서버에 요청을 보낸다.  
    - 또한, 위와 같이 GET을 사용하는 경우 `데이터가 노출되어 보안에 취약`할 수 있으며, `URL의 길이가 정해져 있어` 많은 양의 정보를 전달할 수 없다.  

* Get은 `불필요한 요청을 제한하기 위해 요청이 캐시`될 수 있다.  
    * js, css, 이미지와 같은 정적 컨텐츠는 데이터양이 크고, 변경될 일이 적어서 반복해서 동일한 요청을 보낼 필요가 없다.  
    * 따라서, 정적 컨텐츠를 요청하고 나면 브라우저에서는 요청을 캐시해두고, 동일한 요청이 발생할 때 서버로 요청을 보내지 않고 캐시된 데이터를 사용한다.  
    * 만약 정적 컨텐츠를 변경했을 때, 내용이 바뀌지 않는 경우에는 브라우저의 캐시를 지워줌으로써 이를 해결한다.

### POST
POST는 GET과 달리 리소스를 생성/변경하기 위해 설계되었기 때문에 `전송해야 될 데이터를 HTTP 메세지의 Body에 담아서 전송`한다.  

### POST의 특징
* POST는 전송해야 할 데이터를 HTTP 메세지의 Body에 담아서 전송한다.  
    - 데이터가 Body로 전송되고 내용이 눈에 보이지 않아 GET보다 보안적인 면에서 안전하다고 생각할 수 있지만, `POST 요청도 크롬 개발자 도구, Fiddler와 같은 툴로 요청 내용을 확인할 수 있다.` 
    - 따라서, 민감한 데이터의 경우에는 `암호화하여 전송`해야 한다.  

* POST는 `URL에 데이터를 노출하지 않으므로 즐겨찾기나 캐싱이 불가능`하다.  

* HTTP 메세지의 `Body는 길이의 제한없이` 대용량 데이터를 전송할 수 있다.  

* POST로 요청을 보낼 때는 `요청 헤더의 Content-Type에 요청 데이터의 타입을 표시`해야 한다.   
    - 데이터 타입을 표시하지 않으면 서버는 내용이나 URL에 포함된 리소스의 확장자명 등으로 데이터 타입을 유추한다.  
    - 알 수 없는 경우에는 application/octet-stream로 요청을 처리한다.  

<br>

## 쿠키 vs 세션
### 세션, 쿠키 사용하는 이유
비연결지향이란 특징 때문에 서버 입장에서는 통신 연결을 유지하지 않기 때문에 리소스 낭비가 줄어드는 것은 큰 장점이지만 통신 시마다 새로운 세션을 열어야 하는 작업은 클라이언트가 서버에게 요청을 할 때마다 인증을 해야하는 단점이 생겼다. 따라서 HTTP는 2가지 특성을 보완하기 위해서 쿠키와 세션을 사용하게 되었다.

### 쿠키(Cookie)
- `쿠키`는 클라이언트 `로컬`에 저장되는 키와 값이 들어있는 작은 데이터 파일이다.  
- 사용자 인증이 유효한 시간을 명시할 수 있으며, 유효 시간이 정해지면 브라우저가 종료되어도 인증이 유지된다는 특징이 있다.  
- 쿠키는 클라이언트의 상태 정보를 로컬에 저장했다가 참조한다.  
- 쿠키는 사용자가 따로 요청하지 않아도 브라우저가 Request시에 Request Header를 넣어서 자동으로 서버에 전송한다.  

### 세션(Session)
- `세션`은 쿠키를 기반하고 있지만, 사용자 정보 파일을 브라우저에 저장하는 쿠키와 달리 세션은 `서버` 측에서 관리한다.  
- 서버에서는 클라이언트를 구분하기 위해 세션 ID를 부여하며 웹 브라우저가 서버에 접속해서 브라우저를 종료할 때까지 인증상태를 유지한다. 
- 접속 시간에 제한을 두어 일정 시간 응답이 없다면 정보가 유지되지 않게 설정이 가능하다.  
- 사용자에 대한 정보를 서버에 두기 때문에 쿠키보다 보안에 좋지만, 사용자가 많아질수록 서버 메모리를 많이 차지한다.  
    - `즉, 동접자 수가 많은 웹 사이트인 경우 서버에 과부하를 주게 되므로 성능 저하의 요인이다`
- 클라이언트가 Request를 보내면, 해당 서버의 엔진이 클라이언트에게 유일한 ID를 부여하는 데 이것이 세션ID다.

### 쿠키와 세션의 차이점
- 쿠키는 서버의 자원을 전혀 사용하지 않으며, 세션은 서버의 자원을 사용한다.
- 보안 면에서 세션이 더 우수하며, 요청 속도는 쿠키가 세션보다 더 빠르다.
    - `세션은 서버의 처리가 필요하기 때문`
- `쿠키`는 클라이언트 로컬에 저장되기 때문에 변질되거나 request에서 스니핑 당할 우려가 있어서 보안에 취약하지만,  
`세션`은 쿠키를 이용해서 sessionid 만 저장하고 그것으로 구분해서 서버에서 처리하기 때문에 비교적 보안성이 좋다.  
- 쿠키도 만료시간이 있지만 파일로 저장되기 때문에 브라우저를 종료해도 계속해서 정보가 남아 있을 수 있다. 

<br>

## Reference & Additional Resources
### JNDI의 개념
* [JNDI, DBCP(커넥션풀) 이용](https://all-record.tistory.com/104)

### 커넥션 풀
* [커넥션 풀(Connection pool)이란?](https://linked2ev.github.io/spring/2019/08/14/Spring-3-%EC%BB%A4%EB%84%A5%EC%85%98-%ED%92%80%EC%9D%B4%EB%9E%80/)

### Mybatis vs Hibernate
* [JDBC, JPA/Hibernate, Mabatis의 차이](https://gmlwjd9405.github.io/2018/12/25/difference-jdbc-jpa-mybatis.html)
