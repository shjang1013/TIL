<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>스프링 부트 환경 설정 | Today Sohyeon Learned💡</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/TIL/images/logo-144.png">
    <link rel="manifest" href="/TIL/manifest.json">
    <meta name="description" content="Personal Wiki (Today I Learned)">
    <link rel="preload" href="/TIL/assets/css/0.styles.59ade7d7.css" as="style"><link rel="preload" href="/TIL/assets/js/app.4c874225.js" as="script"><link rel="preload" href="/TIL/assets/js/2.69b13d75.js" as="script"><link rel="preload" href="/TIL/assets/js/7.a44147e8.js" as="script"><link rel="preload" href="/TIL/assets/js/4.2e573045.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.ab729d16.js"><link rel="prefetch" href="/TIL/assets/js/11.df297a16.js"><link rel="prefetch" href="/TIL/assets/js/12.9160c4b0.js"><link rel="prefetch" href="/TIL/assets/js/13.6ee4e6f0.js"><link rel="prefetch" href="/TIL/assets/js/14.3a0b48f3.js"><link rel="prefetch" href="/TIL/assets/js/15.127c0374.js"><link rel="prefetch" href="/TIL/assets/js/16.b33d94f6.js"><link rel="prefetch" href="/TIL/assets/js/17.63299878.js"><link rel="prefetch" href="/TIL/assets/js/18.68d23ed4.js"><link rel="prefetch" href="/TIL/assets/js/19.70911294.js"><link rel="prefetch" href="/TIL/assets/js/20.9308f568.js"><link rel="prefetch" href="/TIL/assets/js/21.5ad587c9.js"><link rel="prefetch" href="/TIL/assets/js/22.f88c024e.js"><link rel="prefetch" href="/TIL/assets/js/23.e1bffded.js"><link rel="prefetch" href="/TIL/assets/js/24.c2f3404b.js"><link rel="prefetch" href="/TIL/assets/js/25.493957c4.js"><link rel="prefetch" href="/TIL/assets/js/3.75e4c1b9.js"><link rel="prefetch" href="/TIL/assets/js/5.4b579782.js"><link rel="prefetch" href="/TIL/assets/js/6.be647db9.js"><link rel="prefetch" href="/TIL/assets/js/8.67beaea2.js"><link rel="prefetch" href="/TIL/assets/js/9.027c76b9.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.59ade7d7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">Today Sohyeon Learned💡</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/shjang1013/TIL" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/shjang1013/TIL" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🎯 목표</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>🐶 Spring Boot</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/SpringBoot/1-1. 스트링 부트.html" class="sidebar-link">스프링 부트(Spring Boot)</a></li><li><a href="/TIL/SpringBoot/1-2. 스트링 부트 환경 설정.html" class="active sidebar-link">스프링 부트 환경 설정</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/SpringBoot/1-2. 스트링 부트 환경 설정.html#스프링-부트-시작하기" class="sidebar-link">스프링 부트 시작하기</a></li><li class="sidebar-sub-header"><a href="/TIL/SpringBoot/1-2. 스트링 부트 환경 설정.html#그레이들" class="sidebar-link">그레이들</a></li><li class="sidebar-sub-header"><a href="/TIL/SpringBoot/1-2. 스트링 부트 환경 설정.html#환경-프로퍼티-파일-설정" class="sidebar-link">환경 프로퍼티 파일 설정</a></li><li class="sidebar-sub-header"><a href="/TIL/SpringBoot/1-2. 스트링 부트 환경 설정.html#reference-additional-resources" class="sidebar-link">Reference &amp; Additional Resources</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🐻 Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🐱 SWEA</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="스프링-부트-환경-설정"><a href="#스프링-부트-환경-설정" class="header-anchor">#</a> 스프링 부트 환경 설정</h1> <br> <h2 id="스프링-부트-시작하기"><a href="#스프링-부트-시작하기" class="header-anchor">#</a> 스프링 부트 시작하기</h2> <h3 id="프로젝트-생성"><a href="#프로젝트-생성" class="header-anchor">#</a> 프로젝트 생성</h3> <ul><li>JDK 설치</li> <li>인텔리제이 IDEA 사용하기</li> <li>프로젝트 유형을 그레이들로 선택해 프로젝트 생성</li></ul> <h3 id="helloworld"><a href="#helloworld" class="header-anchor">#</a> HelloWorld</h3> <img src="/TIL/assets/img/HelloWorld.0555536d.png"> <ul><li><p><code>@RestController</code></p> <ul><li>@Controller와 @ResponseBody를 합쳐놓은 역할을 수행된다.</li> <li>어노테이션을 사용하면 반환값이 Response Body 부분에 자동으로 바인딩된다.</li> <li>스프링에서 RESTful 웹 서비스를 만들 때 주로 사용</li></ul></li> <li><p><code>@GetMapping</code></p> <ul><li>Get 방식으로 경로를 받는 매핑 어노테이션</li> <li>value 값을 별도로 지정하지 않으면 기본값인 빈 값이 들어간다.</li></ul></li> <li><p>메인 메서드를 실행한 후 브라우저에서 <code>localhost:8080</code>에 접속하여 &quot;Hello World&quot;가 제대로 출력되는지 확인한다.</p></li></ul> <br> <h2 id="그레이들"><a href="#그레이들" class="header-anchor">#</a> 그레이들</h2> <h3 id="그레이들과-메이븐의-특징"><a href="#그레이들과-메이븐의-특징" class="header-anchor">#</a> 그레이들과 메이븐의 특징</h3> <ul><li>그레이들
<ul><li>기본적인 빌도 도구의 기능</li> <li>메이븐으로부터 의존 라이브러리 관리 기능을 차용</li> <li>멀티 프로젝트 구성 시 설정 주입 방식을 사용</li></ul></li> <li>메이븐
<ul><li>메이븐 설정 파일인 pom.xml은 XML 기반으로 작서</li> <li>동적인 행위에 제약이 존재</li> <li>멀티 프로젝트 구성 시 상속 구조로 이루어짐</li></ul></li></ul> <h3 id="그레이들-프로젝트-구조"><a href="#그레이들-프로젝트-구조" class="header-anchor">#</a> 그레이들 프로젝트 구조</h3> <div class="language- extra-class"><pre class="language-text"><code>├── gradle
|    └── wrapper
|        ├── gradle-wrapper.jar
|        └── gradle-wrapper.properties
├── gradlew
└── gradlew.bat
</code></pre></div><ul><li>gradlew
<ul><li>리눅스 및 맥 OS용 셸 스크립트</li> <li>버전 변경 명령어
<ul><li><code>./gradlew wrapper --gradle-version 4.10.2</code></li></ul></li></ul></li> <li>gradlew.bat
<ul><li>윈도우용 배치 스크립트</li></ul></li> <li>gradle/wrapper/gradle-wrapper.jar
<ul><li>Wrapper JAR</li></ul></li> <li>gradle/wrapper/gradle-wrapper.properties
<ul><li>그레이들 설정 정보 프로퍼티 파일(버전 정보 등)</li> <li>distributionUrl을 원하는 그레이들 버전으로 수정</li></ul></li></ul> <p>위의 파일은 모두 그레이들 래퍼와 관련된 설정이며 프로젝트 첫 설정 시 그레이들 관련 빌드 설정을 자동으로 해준다.</p> <h3 id="그레이들-멀티-프로젝트-구성하기"><a href="#그레이들-멀티-프로젝트-구성하기" class="header-anchor">#</a> 그레이들 멀티 프로젝트 구성하기</h3> <ul><li>그레이들 멀티 프로젝트를 활용하면 여러 프로젝트를 마치 하나의 프로젝트처럼 사용할 수 있다.
<ul><li>공통 코드를 하나의 프로젝트로 분리하고 이를 재사용할 때 유리하다.</li></ul></li></ul> <ol><li><p>setting.gradle 파일에 루트 프로젝트를 추가한다.</p> <ul><li>setting.gradle 파일 : 그레이들 설정 파일</li> <li>특정한 명령 규칙에 따라 그레이들에서 자동으로 인식하여 설정한다.</li> <li>rootProject.name = 'SpringBoot-study'</li></ul></li> <li><p><code>SpringBoot-study-web</code> 모듈을 생성한다.</p> <ul><li>루트 경로에서 New - Module 선택</li></ul></li> <li><p>ArtifactId에 <code>SpringBoot-study-web</code>을 입력한 후 모듈을 생성한다.</p></li> <li><p><code>SpringBoot-study-web</code> 모듈에는 build.gradle 파일만 존재한다.</p> <ul><li>기본 패키지 경로는 수동으로 생성</li> <li>src/main/java : 자바 소스 경로</li> <li>src/test/java : 스프링 부트의 테스트 코드 경로</li> <li>src/main/resources/static : static한 파일(css, image, js 등)의 디폴트 경로</li> <li>src/main/resources/templates : thymeleaf, freemarker 및 기타 서버 사이드 템플릿 파일의 경로</li></ul></li></ol> <h4 id="springboot-study-프로젝트-멀티-모듈-구조"><a href="#springboot-study-프로젝트-멀티-모듈-구조" class="header-anchor">#</a> SpringBoot-study 프로젝트 멀티 모듈 구조</h4> <div class="language- extra-class"><pre class="language-text"><code>├── .gradle
├── .idea
├── gradle
├── SpringBoot-study-domain
|    └── src
|         ├── main
|         |    └── java
|         |         └── com
|         |              └── sohyeon
|         └── test
|              └── java
|                   └── com
|                        └── sohyeon
└── SpringBoot-study-web
     └── src
          ├── main
          |    ├── java
          |    |    └── com
          |    |         └── sohyeon
          |    └── resources
          |         ├── static
          |         └── templates
          └── test
               └── java
                    └── com
                         └── sohyeon
</code></pre></div><br> <h2 id="환경-프로퍼티-파일-설정"><a href="#환경-프로퍼티-파일-설정" class="header-anchor">#</a> 환경 프로퍼티 파일 설정</h2> <h3 id="환경-프로퍼티-파일의-특징"><a href="#환경-프로퍼티-파일의-특징" class="header-anchor">#</a> 환경 프로퍼티 파일의 특징</h3> <ul><li>스프링 부트 프로퍼티 파일은 설정 관련 및 기타 정적인 값을 키값 형식으로 관리한다.
<ul><li>기존 스프링 프레임워크의 복잡한 XML 설정을 파일 하나로 설정할 수 있다.</li></ul></li> <li>최근에는 프로퍼티 파일의 표현의 한계로 <code>YAML 파일</code>을 더 많이 사용한다.</li> <li>YAML 파일은 프로퍼티 설정값의 깊에에 따라 들여쓰기를 해서 계층 구조를 훨씬 쉽게 파악할 수 있다.</li></ul> <h3 id="프로파일에-따른-환경-구성-분리"><a href="#프로파일에-따른-환경-구성-분리" class="header-anchor">#</a> 프로파일에 따른 환경 구성 분리</h3> <p>실제 서비스에서 개발한다면 로컬 DB, 개발 DB, 운영 DB의 설정값이 모두 다르다.<br>
- 이런 경우를 대비해 <code>프로파일에 따라 프로퍼티를 다르게 설정</code>해야 한다.</p> <ol><li>YAML 파일에서 프로퍼티 설정을 구분하는 방법
<ul><li><code>---</code>을 기준으로 설정값을 나눈다.</li></ul></li> <li>application-{profile}.yml을 이용한다.
<ul><li>프로퍼티 적용 우선순위는 application-{profile}.yml이 1순위다.</li> <li>나머지 프로퍼티 값들은 application.yml의 설정으로 적용된다.</li></ul></li></ol> <h4 id="application-yml에서-프로파일별-설정-구분-예시"><a href="#application-yml에서-프로파일별-설정-구분-예시" class="header-anchor">#</a> application.yml에서 프로파일별 설정 구분 예시</h4> <div class="language- extra-class"><pre class="language-text"><code>server:
    port: 80
---
spring:
    profiles: local
server:
    port: 8080
---
spring:
    profiles: dev
server:
    port: 8081
---
spring:
    profiles: real
server:
    port: 8082
</code></pre></div><h3 id="프로파일값을-적용하여-애플리케이션을-실행하는-방법"><a href="#프로파일값을-적용하여-애플리케이션을-실행하는-방법" class="header-anchor">#</a> 프로파일값을 적용하여 애플리케이션을 실행하는 방법</h3> <ul><li>local, dev, real과 같이 각각의 프로파일값을 따로 지정하여 애플리케이션을 실행한다.
<ul><li>스프링 부트 프로젝트는 JAR 파일로 빌드하여 서버에서 실행할 수 있다.</li> <li><code>$ java -jar ... -D spring.profiles.active=dev</code></li></ul></li> <li>인텔리제이는 스프링 부트 실행 플러그인을 따로 사용한다.
<ul><li>Edit Configurations 버튼을 눌러 Run/Debug Configurations 창을 실행한다.</li> <li>스프링 부트 플러그인의 프로파일값을 할당한다.</li></ul></li></ul> <h3 id="yaml-파일-매핑하기"><a href="#yaml-파일-매핑하기" class="header-anchor">#</a> YAML 파일 매핑하기</h3> <ul><li>YAML 파일을 사용하면 깊이에 따라 관계를 구분 짓기 때문에 List, Set, Map 등 다양한 바인딩형 매핑이 훨씬 간편하다.</li> <li>YAML 파일에 있는 데이터를 가져와서 사용하는 방법
<ul><li>@Value
<ul><li>SpEL(Spring Expression Languate, 스프링 표현 언어) 평가
<ul><li>SpEL은 런타임에 객체 참조에 대해 질의하고 조작하는 기능을 지원하는 언어다.</li> <li>메서드 호출 및 기본 문자열 템플릿 기능을 제공한다.</li></ul></li></ul></li> <li>@ConfigurationProperties
<ul><li>유연한 바인딩
<ul><li>프로퍼티값을 객체에 바인딩할 경우 필드를 낙타 표기법으로 선언하고 프로퍼티의 키는 다양한 형식(낙타, 케밥, 언더바 표기법)으로 선언하여 바인딩할 수 있다.</li></ul></li> <li>메타데이터 지원
<ul><li>프로퍼티의 키에 대한 정보를 메타데이터 파일(JSON)로 제공한다.</li></ul></li></ul></li></ul></li></ul> <h3 id="value"><a href="#value" class="header-anchor">#</a> @Value</h3> <h3 id="configuration"><a href="#configuration" class="header-anchor">#</a> @Configuration</h3> <br> <h2 id="reference-additional-resources"><a href="#reference-additional-resources" class="header-anchor">#</a> Reference &amp; Additional Resources</h2> <blockquote><p>처음 배우는 스프링 부트2</p></blockquote></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/16/2020, 2:47:06 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TIL/SpringBoot/1-1. 스트링 부트.html" class="prev">
        스프링 부트(Spring Boot)
      </a></span> <span class="next"><a href="/TIL/Python/1-1. 연산자.html">
        연산자
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/TIL/assets/js/app.4c874225.js" defer></script><script src="/TIL/assets/js/2.69b13d75.js" defer></script><script src="/TIL/assets/js/7.a44147e8.js" defer></script><script src="/TIL/assets/js/4.2e573045.js" defer></script>
  </body>
</html>
